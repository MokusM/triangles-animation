import { TimelineMax } from 'gsap';

export default function Canvas() {
  var vk = [311.8, 331.4, 366.3, 284.6, 335.6, 259.3,
    331.4, 382, 366.3, 284.6, 311.8, 331.4,
    359.5, 187.3, 335.6, 259.3, 380.3, 187.3,
    366.3, 284.6, 401.2, 187.3, 335.6, 259.3,
    310.4, 382, 331.4, 382, 311.8, 331.4,
    289.5, 382, 310.4, 382, 311.8, 331.4,
    241.2, 187.3, 219.9, 187.3, 287.1, 259.3,
    262.5, 187.3, 241.2, 187.3, 287.1, 259.3,
    219.9, 187.3, 254.7, 284.6, 287.1, 259.3,
    335.6, 259.3, 401.2, 187.3, 380.3, 187.3,
    287.1, 259.3, 254.7, 284.6, 311.8, 331.4,
    254.7, 284.6, 289.5, 382, 311.8, 331.4,
    461.1, 273.8, 492.9, 290.6, 520, 263.1,
    500.8, 230.5, 461.1, 273.8, 520, 263.1,
    556.7, 225.2, 500.8, 230.5, 520, 263.1,
    540.5, 187.3, 500.8, 230.5, 556.7, 225.2,
    566.9, 187.3, 540.5, 187.3, 556.7, 225.2,
    593.3, 187.3, 566.9, 187.3, 556.7, 225.2,
    558.7, 322.6, 571.9, 382, 597.3, 382,
    546.5, 382, 571.9, 382, 558.7, 322.6,
    520, 263.1, 492.9, 290.6, 558.7, 322.6,
    492.9, 290.6, 519.7, 336.3, 558.7, 322.6,
    519.7, 336.3, 546.5, 382, 558.7, 322.6,
    461.1, 382, 461.1, 352.6, 441.4, 382,
    421.7, 187.3, 421.7, 284.6, 461.1, 230.5,
    441.4, 187.3, 421.7, 187.3, 461.1, 230.5,
    461.1, 187.3, 441.4, 187.3, 461.1, 230.5,
    421.7, 284.6, 461.1, 323.2, 461.1, 273.8,
    461.1, 230.5, 421.7, 284.6, 461.1, 273.8,
    441.4, 382, 461.1, 323.2, 421.7, 382,
    421.7, 382, 461.1, 323.2, 421.7, 284.6,
    461.1, 352.6, 461.1, 323.2, 441.4, 382,
    461.1, 323.2, 477, 306.9, 461.1, 273.8,
    477, 306.9, 492.9, 290.6, 461.1, 273.8];

  var fb = [291.4, 299.1, 291.4, 266.2, 252.1, 284.5,
    291.4, 266.2, 291.4, 243.1, 252.1, 187.2,
    252.1, 284.5, 291.4, 266.2, 252.1, 187.2,
    291.4, 340.5, 291.4, 299.1, 252.1, 284.5,
    252.1, 381.9, 291.4, 340.5, 252.1, 284.5,
    291.4, 243.1, 291.4, 220.1, 252.1, 187.2,
    338.4, 220.1, 385.5, 187.2, 318.8, 187.2,
    291.4, 220.1, 338.4, 220.1, 318.8, 187.2,
    252.1, 187.2, 291.4, 220.1, 318.8, 187.2,
    385.5, 220.1, 385.5, 203.6, 338.4, 220.1,
    372.6, 299.1, 372.6, 282.7, 332, 299.1,
    372.6, 266.2, 332, 266.2, 332, 299.1,
    372.6, 282.7, 372.6, 266.2, 332, 299.1,
    385.5, 203.6, 385.5, 187.2, 338.4, 220.1,
    271.7, 381.9, 291.4, 340.5, 252.1, 381.9,
    291.4, 361.2, 291.4, 340.5, 271.7, 381.9,
    291.4, 381.9, 291.4, 361.2, 271.7, 381.9,
    332, 266.2, 291.4, 266.2, 332, 299.1,
    332, 299.1, 291.4, 266.2, 291.4, 299.1,
    540.5, 323.6, 575, 351.3, 581.2, 325.4,
    581.2, 325.4, 571.6, 296.1, 536.3, 308.7,
    540.5, 323.6, 581.2, 325.4, 536.3, 308.7,
    483.1, 264.6, 457.4, 297, 489.1, 297,
    524, 299.8, 511.7, 263.9, 489.1, 297,
    489.1, 297, 511.7, 263.9, 483.1, 264.6,
    457.4, 264.6, 457.4, 297, 483.1, 264.6,
    550.7, 197.1, 530.4, 189.1, 528.4, 227.1,
    418.1, 187.2, 418.1, 381.9, 457.4, 297,
    480, 219.6, 495.9, 187.2, 457.4, 219.6,
    418.1, 381.9, 484.3, 381.9, 457.4, 349.1,
    457.4, 297, 418.1, 381.9, 457.4, 349.1,
    457.4, 219.6, 418.1, 187.2, 457.4, 264.6,
    495.9, 187.2, 418.1, 187.2, 457.4, 219.6,
    457.4, 264.6, 418.1, 187.2, 457.4, 297,
    520.7, 347.9, 558.1, 371.3, 535, 340.1,
    558.1, 371.3, 575, 351.3, 535, 340.1,
    531.8, 380.5, 558.1, 371.3, 520.7, 347.9,
    493.8, 349.1, 531.8, 380.5, 520.7, 347.9,
    457.4, 349.1, 484.3, 381.9, 493.8, 349.1,
    484.3, 381.9, 531.8, 380.5, 493.8, 349.1,
    528.4, 227.1, 530.4, 189.1, 513.6, 220.2,
    511.7, 263.9, 544.2, 278.4, 527.6, 257,
    564.2, 261.3, 571.6, 236.2, 533.4, 241.8,
    513.6, 220.2, 495.9, 187.2, 480, 219.6,
    527.6, 257, 544.2, 278.4, 533.4, 241.8,
    571.6, 296.1, 544.2, 278.4, 524, 299.8,
    524, 299.8, 544.2, 278.4, 511.7, 263.9,
    544.2, 278.4, 564.2, 261.3, 533.4, 241.8,
    535, 340.1, 575, 351.3, 540.5, 323.6,
    536.3, 308.7, 571.6, 296.1, 524, 299.8,
    530.4, 189.1, 495.9, 187.2, 513.6, 220.2,
    565.6, 213.4, 550.7, 197.1, 533.4, 241.8,
    571.6, 236.2, 565.6, 213.4, 533.4, 241.8,
    533.4, 241.8, 550.7, 197.1, 528.4, 227.1];

  var pad_array = function(arr,len, fill) {
    return arr.concat(Array(len).fill(fill)).slice(0,len);
  };

  var canvas = document.getElementById('kanvasik');
  var ctx = canvas.getContext('2d');

  ctx.lineWidth = 1;
  ctx.strokeStyle = '#666666';
  ctx.fillStyle = '#FFCC00';


  vk = pad_array(vk,102*6,300);
  fb = pad_array(fb,102*6,300);

  var superstate = vk;
  
  let tl = new TimelineMax();
  fb.onUpdate = function() {
    render(superstate);
  };
  $('body').click(function() {
    tl.to(superstate,1, fb);
  });



  function render(state) {
    ctx.clearRect(0,0,800,600);
    for (var i = 0; i <= state.length; i = i + 6) {
      ctx.beginPath();
      ctx.moveTo(state[i], state[i + 1]);
      ctx.lineTo(state[i + 2], state[i + 3]);
      ctx.lineTo(state[i + 4], state[i + 5]);
      ctx.closePath();
      ctx.stroke();
      ctx.fill();
    }
  }
  render(vk);
}

Canvas();
